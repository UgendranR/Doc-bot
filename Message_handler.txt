response = Map();
msg = message.get("text");
if(operation.equals("chat"))
{
	if(!msg.equalsIgnoreCase("Great! Tell me more") && !msg.equalsIgnoreCase("Thanks. I'm ok for now"))
	{
		response = Map();
		response.put("action","reply");
		response.put("replies",{"Hey there! DoCBot here. Welcome to ENT Care Centre."," Looking for a Doctor here! You can schedule an appoinment with our expert consultants."});
		response.put("input",{"type":"select","options":{"Great! Tell me more","Thanks. I'm ok for now"}});
		return response;
	}
}
if(!msg.isNull())
{
	response.put("action","context");
	if(msg.equalsIgnoreCase("Great! Tell me more"))
	{
		response.put("context_id","accept_discount");
		question = {"name":"name","replies":{"I just need a few more details from you to make that happen.",{"text":"For First time Visitors, what's your name?","field_name":"siq_name"}}};
	}
	else if("Thanks. I'm ok for now")
	{
		response.put("context_id","ignore_discount");
		question = {"name":"isnotified","replies":{"Would you like to get notified about our promotional offers in the future?"},"input":{"type":"select","options":{"Yeah","Nope"}}};
	}
	else
	{
		response.put("action","reply");
		response.put("replies",{"Hey there! DoCBot here. Welcome to ENT Care Centre."," Looking for a Doctor here! You can schedule an appoinment with our expert consultants."});
		response.put("input",{"type":"select","options":{"Great! Tell me more","Thanks. I'm ok for now"}});
		return response;
	}
	response.put("questions",{question});
}
return response;
